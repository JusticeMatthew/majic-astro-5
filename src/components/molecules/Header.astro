---
import Burger from "$/assets/icons/burger.svg";
import Close from "$/assets/icons/close.svg";
import Button from "$/atoms/Button.astro";
import navLinks from "$/constants/navLinks.ts";
import MobileNav from "$/components/molecules/MobileNav.tsx";
---

<div
  class="container:pt-4 container:pr-4.5 fixed top-0 z-50 flex w-screen items-center justify-center pl-0">
  <header
    class="transition-[color, box-shadow, backdrop-filter, background-image] container:rounded-lg container:px-6 flex w-full items-center justify-between px-4 py-4 duration-300">
    <a href="/" class="flex cursor-pointer items-center gap-3">
      <figure
        id="logo"
        class="transition-[color, box-shadow, backdrop-filter, background-image] h-11 w-11 duration-300">
      </figure>
      <h1 class="font-calistoga">
        <span class="text-2xl">Majic&nbsp;</span>
        <span class="font-inter">
          | Beautiful Web <span class="hidden sm:inline">Solutions</span>
        </span>
      </h1>
    </a>
    <MobileNav client:only="solid-js">
      <Burger id="burger" width={30} height={30} />
      <Close id="close" width={36} height={36} class="fill-dark m-4" />
      <Button
        href="/contact"
        class="text-level-2 text-light px-7"
        variant="dark">
        Contact
      </Button>
    </MobileNav>
    <nav class="tablet:flex hidden gap-3">
      {
        navLinks.map(({ href, label }) => (
          <a
            href={href}
            class="from-blurple/30 to-blurple/30 cursor-pointer rounded-lg bg-gradient-to-r bg-[length:100%_0%] bg-bottom bg-no-repeat px-3 py-2 transition-[background-size] hover:bg-[length:100%_100%]">
            {label}
          </a>
        ))
      }
      <Button href="#contact" class="px-3 py-0" header>Contact Us</Button>
    </nav>
  </header>
</div>

<style>
  header {
    max-width: clamp(16rem, 100%, 91rem) !important;
  }

  html[data-is-top="true"] header {
    background-color: rgba(248, 250, 252, 0) !important;
    color: rgba(248, 250, 252, 0.9);

    & #burger {
      fill: rgba(248, 250, 252, 0.8);
    }

    & #logo {
      background-image: url("/images/logo-light.svg");
      background-repeat: no-repeat;
      background-size: contain;
      opacity: 90;
    }
  }

  html[data-is-top="false"] header {
    background-color: rgba(248, 250, 252, 1) !important;
    color: #18183b;
    box-shadow:
      0 20px 25px -5px rgb(0 0 0 / 0.1),
      0 8px 10px -6px rgb(0 0 0 / 0.1);

    & #burger {
      fill: #0d111c;
    }

    & #logo {
      background-image: url("/images/logo.svg");
      background-repeat: no-repeat;
      background-size: contain;
      opacity: 90;
    }
  }
</style>
